{{ define "title"}}{{ t "page.date_entries.title" }} {{ if gt .countUnread 0 }}({{ .countUnread }}){{ end }}{{ end }}

{{ define "page_header"}}
<section class="page-header" aria-labelledby="page-header-title page-header-title-count">
    <h1 id="page-header-title">
        {{ t "page.date_entries.title" }}
        <span aria-hidden="true">(<span class="unread-counter">{{ .countUnread }}</span>)</span>
    </h1>
    <span id="page-header-title-count" class="sr-only">{{ plural "page.unread_entry_count" .countUnread .countUnread }}</span>
    {{ if gt .countUnread 0 }}
    <nav aria-label="{{ t "page.date_entries.title" }} sections">
        <ul>
            {{ if gt .countToday 0 }}
            <li>
                <a href="#date-today">{{ t "date_group.today" }} ({{ .countToday }})</a>
            </li>
            {{ end }}
            {{ if gt .countYesterday 0 }}
            <li>
                <a href="#date-yesterday">{{ t "date_group.yesterday" }} ({{ .countYesterday }})</a>
            </li>
            {{ end }}
            {{ if gt .countWeek 0 }}
            <li>
                <a href="#date-week">{{ t "date_group.this_week" }} ({{ .countWeek }})</a>
            </li>
            {{ end }}
            {{ if gt .countMonth 0 }}
            <li>
                <a href="#date-month">{{ t "date_group.this_month" }} ({{ .countMonth }})</a>
            </li>
            {{ end }}
            {{ if gt .countEarlier 0 }}
            <li>
                <a href="#date-earlier">{{ t "date_group.earlier" }} ({{ .countEarlier }})</a>
            </li>
            {{ end }}
        </ul>
    </nav>
    {{ end }}
</section>
{{ end }}

{{ define "content"}}
{{ if eq .countUnread 0 }}
    <p role="alert" class="alert">{{ t "alert.no_unread_entry" }}</p>
{{ else }}
    {{ if gt (len .todayEntries) 0 }}
    <section class="date-group" id="date-today">
        <h2 class="date-group-header">{{ t "date_group.today" }} <span class="count">({{ .countToday }})</span></h2>
        <div class="items hide-read-items">
            {{ range .todayEntries -}}
            <article
                class="item entry-item {{ if $.user.EntrySwipe }}entry-swipe{{ end }} item-status-{{ .Status }}"
                data-id="{{ .ID }}"
                aria-labelledby="entry-title-{{ .ID }}"
                tabindex="-1"
            >
                <header class="item-header" dir="auto">
                    <h3 id="entry-title-{{ .ID }}" class="item-title">
                        <a href="{{ route "unreadEntry" "entryID" .ID }}">
                            {{ if ne .Feed.Icon.IconID 0 -}}
                            <img src="{{ route "feedIcon" "externalIconID" .Feed.Icon.ExternalIconID }}" width="16" height="16" loading="lazy" alt="">
                            {{ end -}}
                            {{ .Title }}
                        </a>
                    </h3>
                    <span class="category">
                        <a href="{{ route "categoryEntries" "categoryID" .Feed.Category.ID }}">
                            {{ .Feed.Category.Title }}
                        </a>
                    </span>
                </header>
                {{ template "item_meta" dict "user" $.user "entry" . "hasSaveEntry" $.hasSaveEntry -}}
            </article>
            {{ end }}
        </div>
    </section>
    {{ end }}

    {{ if gt (len .yesterdayEntries) 0 }}
    <section class="date-group" id="date-yesterday">
        <h2 class="date-group-header">{{ t "date_group.yesterday" }} <span class="count">({{ .countYesterday }})</span></h2>
        <div class="items hide-read-items">
            {{ range .yesterdayEntries -}}
            <article
                class="item entry-item {{ if $.user.EntrySwipe }}entry-swipe{{ end }} item-status-{{ .Status }}"
                data-id="{{ .ID }}"
                aria-labelledby="entry-title-{{ .ID }}"
                tabindex="-1"
            >
                <header class="item-header" dir="auto">
                    <h3 id="entry-title-{{ .ID }}" class="item-title">
                        <a href="{{ route "unreadEntry" "entryID" .ID }}">
                            {{ if ne .Feed.Icon.IconID 0 -}}
                            <img src="{{ route "feedIcon" "externalIconID" .Feed.Icon.ExternalIconID }}" width="16" height="16" loading="lazy" alt="">
                            {{ end -}}
                            {{ .Title }}
                        </a>
                    </h3>
                    <span class="category">
                        <a href="{{ route "categoryEntries" "categoryID" .Feed.Category.ID }}">
                            {{ .Feed.Category.Title }}
                        </a>
                    </span>
                </header>
                {{ template "item_meta" dict "user" $.user "entry" . "hasSaveEntry" $.hasSaveEntry -}}
            </article>
            {{ end }}
        </div>
    </section>
    {{ end }}

    {{ if gt (len .weekEntries) 0 }}
    <section class="date-group" id="date-week">
        <h2 class="date-group-header">{{ t "date_group.this_week" }} <span class="count">({{ .countWeek }})</span></h2>
        <div class="items hide-read-items">
            {{ range .weekEntries -}}
            <article
                class="item entry-item {{ if $.user.EntrySwipe }}entry-swipe{{ end }} item-status-{{ .Status }}"
                data-id="{{ .ID }}"
                aria-labelledby="entry-title-{{ .ID }}"
                tabindex="-1"
            >
                <header class="item-header" dir="auto">
                    <h3 id="entry-title-{{ .ID }}" class="item-title">
                        <a href="{{ route "unreadEntry" "entryID" .ID }}">
                            {{ if ne .Feed.Icon.IconID 0 -}}
                            <img src="{{ route "feedIcon" "externalIconID" .Feed.Icon.ExternalIconID }}" width="16" height="16" loading="lazy" alt="">
                            {{ end -}}
                            {{ .Title }}
                        </a>
                    </h3>
                    <span class="category">
                        <a href="{{ route "categoryEntries" "categoryID" .Feed.Category.ID }}">
                            {{ .Feed.Category.Title }}
                        </a>
                    </span>
                </header>
                {{ template "item_meta" dict "user" $.user "entry" . "hasSaveEntry" $.hasSaveEntry -}}
            </article>
            {{ end }}
        </div>
    </section>
    {{ end }}

    {{ if gt (len .monthEntries) 0 }}
    <section class="date-group" id="date-month">
        <h2 class="date-group-header">{{ t "date_group.this_month" }} <span class="count">({{ .countMonth }})</span></h2>
        <div class="items hide-read-items">
            {{ range .monthEntries -}}
            <article
                class="item entry-item {{ if $.user.EntrySwipe }}entry-swipe{{ end }} item-status-{{ .Status }}"
                data-id="{{ .ID }}"
                aria-labelledby="entry-title-{{ .ID }}"
                tabindex="-1"
            >
                <header class="item-header" dir="auto">
                    <h3 id="entry-title-{{ .ID }}" class="item-title">
                        <a href="{{ route "unreadEntry" "entryID" .ID }}">
                            {{ if ne .Feed.Icon.IconID 0 -}}
                            <img src="{{ route "feedIcon" "externalIconID" .Feed.Icon.ExternalIconID }}" width="16" height="16" loading="lazy" alt="">
                            {{ end -}}
                            {{ .Title }}
                        </a>
                    </h3>
                    <span class="category">
                        <a href="{{ route "categoryEntries" "categoryID" .Feed.Category.ID }}">
                            {{ .Feed.Category.Title }}
                        </a>
                    </span>
                </header>
                {{ template "item_meta" dict "user" $.user "entry" . "hasSaveEntry" $.hasSaveEntry -}}
            </article>
            {{ end }}
        </div>
    </section>
    {{ end }}

    {{ if gt (len .earlierEntries) 0 }}
    <section class="date-group" id="date-earlier">
        <h2 class="date-group-header">{{ t "date_group.earlier" }} <span class="count">({{ .countEarlier }})</span></h2>
        <div class="items hide-read-items">
            {{ range .earlierEntries -}}
            <article
                class="item entry-item {{ if $.user.EntrySwipe }}entry-swipe{{ end }} item-status-{{ .Status }}"
                data-id="{{ .ID }}"
                aria-labelledby="entry-title-{{ .ID }}"
                tabindex="-1"
            >
                <header class="item-header" dir="auto">
                    <h3 id="entry-title-{{ .ID }}" class="item-title">
                        <a href="{{ route "unreadEntry" "entryID" .ID }}">
                            {{ if ne .Feed.Icon.IconID 0 -}}
                            <img src="{{ route "feedIcon" "externalIconID" .Feed.Icon.ExternalIconID }}" width="16" height="16" loading="lazy" alt="">
                            {{ end -}}
                            {{ .Title }}
                        </a>
                    </h3>
                    <span class="category">
                        <a href="{{ route "categoryEntries" "categoryID" .Feed.Category.ID }}">
                            {{ .Feed.Category.Title }}
                        </a>
                    </span>
                </header>
                {{ template "item_meta" dict "user" $.user "entry" . "hasSaveEntry" $.hasSaveEntry -}}
            </article>
            {{ end }}
        </div>
    </section>
    {{ end }}
{{ end }}

{{ end }}
